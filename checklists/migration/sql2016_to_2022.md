# Checklist: Migracja SQL Server 2016 -> 2022

## Kontekst
Migracja instancji SQL Server 2016 Developer/Enterprise do wersji 2022.  
Cel: przeniesienie baz danych (~200) przy minimalnym ryzyku i zgodnie z RPO/RTO.

---

## Przygotowanie
- [ ] Sprawdz wersje zainstalowanych CU/Service Pack w SQL 2016
- [ ] Zainstaluj najnowsze CU dla SQL Server 2016
- [ ] Zweryfikuj wspierane funkcje i uslugi (SSIS, SSRS, SSAS)
- [ ] Skopiuj konfiguracje serwera (sp_configure, logins, linked servers, credentials)
- [ ] Zweryfikuj backupy wszystkich baz (full + diff + log)
- [ ] Przetestuj odtwarzanie na serwerze testowym

---

## Migracja
- [ ] Zainstaluj SQL Server 2022 (najlepiej nowa instancja/serwer)
- [ ] Skonfiguruj podstawowe parametry (MAXDOP, cost threshold, memory, tempdb)
- [ ] Odtworz loginy, role, linked servers, joby z msdb
- [ ] Przenies SSISDB/SSRS/SSAS jesli uzywane
- [ ] Przywroc bazy danych z backupu 2016 do 2022
- [ ] Ustaw compatibility level zgodnie z wymaganiami aplikacji
- [ ] Wlacz Query Store (domyslnie wlaczony w 2022, sprawdz konfiguracje)

---

## Testy po migracji
- [ ] Uruchom testy regresyjne aplikacji
- [ ] Zweryfikuj joby SQL Agent
- [ ] Sprawdz monitoring (perf counters, DMVs, alerty)
- [ ] Przetestuj odtwarzanie bazy na SQL 2022
- [ ] Zweryfikuj RPO/RTO zgodnie z planem DR

---

## Cleanup / dokumentacja
- [ ] Zaktualizuj dokumentacje srodowiska
- [ ] Archiwizuj stare logi i konfiguracje z SQL 2016
- [ ] Zaplanuj dekomisje serwera SQL 2016

---

## Uwagi
- Migracja „w miejscu” (in-place upgrade) jest mozliwa, ale mniej zalecana – rekomendowany **side-by-side migration**.
- Sprawdz rowniez parametry tempdb (wielkosc, autogrowth) i Query Store (rozmiar max).
